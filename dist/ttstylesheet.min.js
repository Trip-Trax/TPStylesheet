!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TTStylesheet=t():e.TTStylesheet=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r="[object Array]",s="[object String]",o="[object Object]",l="[object Boolean]",a="[object Number]",u="-webkit-,-ms-,-moz-,-o-".split(","),h=u.length,c=window.getComputedStyle(document.documentElement),_={"animation-iteration-count":!0,"box-ordinal-group":!0,"column-count":!0,"fill-opacity":!0,flex:!0,"flex-grow":!0,"flex-order":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,"stop-opacity":!0,"tab-size":1,widows:!0,"z-index":!0,zoom:!0},y=function(){function e(t){n(this,e),this._styleSheetEnabled=!1,this._stylesheet=this._initializeStyleElement(t),this._CACHED_STYLES={},this._CACHED_PROPERTIES={},this._BROWSER_STYLES=[].slice.call(c)}return i(e,[{key:"_getType",value:function(e){return Object.prototype.toString.call(e)}},{key:"_isNumber",value:function(e){return!(this._getType(e)!==a)}},{key:"_isString",value:function(e){return!(this._getType(e)!==s)}},{key:"_isObject",value:function(e){return!(this._getType(e)!==o)}},{key:"_isArray",value:function(e){return!(this._getType(e)!==r)}},{key:"_isBoolean",value:function(e){return!(this._getType(e)!==l)}},{key:"_isElement",value:function(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}},{key:"_initializeStyleElement",value:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-ttstylesheet","true"),t.appendChild(document.createTextNode("")),(e||this._isElement(e)?e:document.head).appendChild(t),this._styleSheetEnabled=!0,t.sheet?t.sheet:t.styleSheet}},{key:"_dasherize",value:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},{key:"_normalizeProperty",value:function(e){if(this._CACHED_PROPERTIES.hasOwnProperty(e))return this._CACHED_PROPERTIES[e];var t=this._dasherize(e);if(-1!==this._BROWSER_STYLES.indexOf(t))return this._CACHED_PROPERTIES[e]=t,t;for(var n=h-1,i=null;n>=0;){if(i=""+u[n]+t,-1!==this._BROWSER_STYLES.indexOf(i))return this._CACHED_PROPERTIES[e]=i,i;n--}return this._CACHED_PROPERTIES[e]=t,t}},{key:"_insertRule",value:function(e,t,n){var i=this._stylesheet;n||(n=i.cssRules.length),t=this._parseStyles(t),i.insertRule(e+" { "+t+" }",n)}},{key:"_isValidForUnit",value:function(e){return _.hasOwnProperty(e)?!1:!0}},{key:"_parseStyles",value:function(e){var t=this,n=Object.keys(e).map(function(n){var i=t._normalizeProperty(n),r=e[n],s=t._isValidForUnit(i)&&t._isNumber(r),o=s?r+"px":r,l=i+": "+o+" !important";return l}).join(";")+";";return n}},{key:"_flattenToOneLevel",value:function(e){for(var t in e){var n=e[t];for(var i in n)this._isObject(n[i])&&(e[i.replace("&",t)]=n[i],delete e[t][i])}return e}},{key:"_insertRules",value:function(e,t){var n=null;if(this._CACHED_STYLES.hasOwnProperty(e)){n=this._CACHED_STYLES[e];var i=n,r=i.obj;this._CACHED_STYLES[e]=Object.assign(n,{obj:Object.assign(r,t)})}else this._CACHED_STYLES[e]={slctor:e,obj:t,index:Object.keys(this._CACHED_STYLES).length},n=this._CACHED_STYLES[e];var s=n,o=s.slctor,l=s.obj,a=s.index;this._insertRule(o,l,a)}},{key:"_insertJSONRules",value:function(e){e=this._flattenToOneLevel(e);for(var t in e)if(e.hasOwnProperty(t)){var n=t,i=e[t];this._insertRules(n,i)}}},{key:"_disableStylesheet",value:function(){if(this._styleSheetEnabled){var e=this._stylesheet;e.disabled=!0,this._styleSheetEnabled=!1}}},{key:"_enableStylesheet",value:function(){if(!this._styleSheetEnabled){var e=this._stylesheet;e.disabled=!1,this._styleSheetEnabled=!0}}},{key:"add",value:function(e){return e&&this._isObject(e)&&this._insertJSONRules(e),this}},{key:"disable",value:function(){return this._disableStylesheet(),this}},{key:"enable",value:function(){return this._enableStylesheet(),this}}]),e}();t["default"]=y,e.exports=t["default"]}])});